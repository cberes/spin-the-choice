!function(e){"use strict";function n(){var n=[];this.register=function(e,n){this.registerCustom(e,function(e){e.textContent=n()})},this.registerCustom=function(i,t){n.push({element:e.getElementById(i),handler:t})},this.update=function(){var e;for(e=0;e<n.length;e+=1)n[e].handler(n[e].element)}}function i(){var e=0,n=0,i=0,t=0,o=0,r=[];this.getChoicesMade=function(){return e},this.redeemChoice=function(){e+=1,n-=1},this.getChoicesRemaining=function(){return n},this.addChoice=function(e){n+=e||1},this.getSpinsMade=function(){return i},this.redeemSpin=function(){i+=1,t-=1},this.getSpinsRemaining=function(){return t},this.addSpin=function(e){t+=e||1},this.getPoints=function(){return o},this.addPoints=function(e){o+=e},this.getPrizes=function(){return r},this.addPrize=function(e){r.push(e)}}function t(e,n,i){this.getId=function(){return e},this.getName=function(){return n},this.update=function(e){i(e)}}function o(e,n,i){this.getId=function(){return e},this.getName=function(){return n},this.getPoints=function(){return i}}function r(e,n,i,t){this.getId=function(){return e},this.getName=function(){return n},this.getPoints=function(){return i},this.update=t||function(t){t.addPrize(new o(e,n,i))}}function s(e){var n=e||0;this.getPoints=function(){return n},this.addPoints=function(e){n+=e},this.reset=function(){n=0}}function c(e,n,i,t){this.choose=function(){t.redeemChoice()},this.spin=function(){t.redeemSpin()}}function u(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function a(n,i){var t=e.createElement(n);return t.textContent=i,t}function d(){var e=new s(0),o=new Audio("assets/sound/bell.ogg"),d=new n,f=new i,h=[new t("spin","Spin",function(e){}),new t("choice","Choice",function(e){}),new t("lose_spin","Lose a Spin",function(e){e.addSpin(-1)}),new t("spin_again","Spin Again",function(e){e.addSpin()}),new t("prize","Prize Winner",function(e){o.play()}),new t("free_spin","Free Spin",function(e){e.addSpin()}),new t("lose_choice","Lose a Choice",function(e){e.addChoice(-1)}),new t("free_choice","Free Choice",function(e){e.addChoice()})],g=[new r("free_spin","Free Spin",0,function(e){e.addSpin()}),new r("winnebago","Winnebago",1e4),new r("free_choice","Free Choice",0,function(e){e.addChoice()}),new r("washer_dryer","Washer Dryer",1e3),new r("mazda","Mazda",5e3),new r("microwave","Microwave Oven",500),new r("points","Point Bank",0,function(n){n.addPoints(e.getPoints()),e.reset()}),new r("mercedes","Mercedes",7500)];new c(h,g,e,f);d.register("choices-made",f.getChoicesMade),d.register("choices-remaining",f.getChoicesRemaining),d.register("spins-made",f.getSpinsMade),d.register("spins-remaining",f.getSpinsRemaining),d.register("points-accrued",f.getPoints),d.register("points-bank",e.getPoints),d.registerCustom("prizes-earned",function(e){var n,i=f.getPrizes();for(u(e),n=0;n<i.length;n+=1)e.appendChild(a("li",i[n].getName()))}),d.update(),document.getElementById("prize-wheel").addEventListener("click",function(e){o.play(),e.preventDefault()})}e.onreadystatechange=function(){"interactive"===e.readyState&&d()}}(document);